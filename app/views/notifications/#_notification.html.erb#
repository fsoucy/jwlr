<div class="notification">
<% if notification.read %>
<p><%= notification.message.html_safe %><br>Posted <%= notification.created_at.strftime("%A") + ", " + notification.created_at.strftime("%m/%d/%y") +\
						        " " + notification.created_at.strftime("at %I:%M%p") %></p>
<% else %>
<strong><p><%= notification.message.html_safe %><br>Posted <%= notification.created_at.strftime("%A") + ", " + notification.created_at.strftime("%m/%d/%y") + " " + notification.created_at.strftime("at %I:%M%p") %></p>
</strong>
<% end %>
<%= form_for(notification) do |f| %>
<%= f.hidden_field :read, :value => !notification.read %>
<%= f.hidden_field :id, value: notification.id, class: "notification_id" %>
$.ajax({
type: "GET",// GET in place of POST
contentType: "application/json; charset=utf-8",
url: "http://" + window.location.host + "/conversations/" + window.conversation + "/pull_messages?page=1",
data: {},
dataType: "json",
success: function (result) {
results = result.reverse();
for (res in results)
{
thing = results[parseInt(res)];
if (window.time != null && window.time < thing[2])
					 {
					 $('.massages').append('<li class="message_list">' + '<img class="message_image" src="' + thing[3] + '">' + '<span class="message_text">' \
					 + thing[1] + ': ' + thing[0] + '</span></li>');
					 window.time = thing[2]
					 $('.massage_container').scrollTop(10000000);
					 }
					 }
					 },
					 error: function (e){
					 }
					 <% end %>
</div>
